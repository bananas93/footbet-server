{"version":3,"file":"static/js/215.2fa789f0.chunk.js","mappings":"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","sources":["webpack://client/./src/components/Card/index.module.scss?78fc","components/Card/index.js","webpack://client/./src/components/Divider/index.module.scss?7352","components/Divider/index.js","webpack://client/./src/components/Input/index.module.scss?bca5","components/Input/index.js","webpack://client/./src/views/ProfilePage/index.module.scss?1ada","views/ProfilePage/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"Card_card__4-jbm\",\"cardTitle\":\"Card_cardTitle__d6oQG\",\"cardBody\":\"Card_cardBody__AWMIx\",\"cardBodyWithoutTitle\":\"Card_cardBodyWithoutTitle__KoSil\",\"cardAction\":\"Card_cardAction__X9Ik5\",\"cardMatchDate\":\"Card_cardMatchDate__ruzTr\",\"noMobileShadow\":\"Card_noMobileShadow__2UZHa\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport styles from './index.module.scss';\n\nconst Card = ({\n  title, action, style, titleStyle, noMobileShadow, children,\n}) => (\n  <div className={cn(styles.card, { [styles.noMobileShadow]: noMobileShadow })} style={style}>\n    {title && (\n      <div className={styles.cardTitle} style={titleStyle}>\n        <span>{title}</span>\n        {action && (\n          <div className={styles.cardAction}>{action}</div>\n        )}\n      </div>\n    )}\n    <div className={cn(styles.cardBody, { [styles.cardBodyWithoutTitle]: !title })}>\n      {children}\n    </div>\n  </div>\n);\n\nCard.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object,\n  titleStyle: PropTypes.object,\n  noMobileShadow: PropTypes.bool,\n  action: PropTypes.node,\n};\n\nexport default Card;\n","// extracted by mini-css-extract-plugin\nexport default {\"divider\":\"Divider_divider__LITKG\"};","import PropTypes from 'prop-types';\nimport styles from './index.module.scss';\n\nconst Divider = ({ children }) => (\n  <div className={styles.divider}>\n    <span>{children}</span>\n  </div>\n);\n\nDivider.propTypes = {\n  children: PropTypes.any,\n};\n\nexport default Divider;\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Input_input__s4ezt\",\"inputError\":\"Input_inputError__Mk+NW\",\"inputReadOnly\":\"Input_inputReadOnly__MvJlc\",\"label\":\"Input_label__2youZ\",\"labelReadOnly\":\"Input_labelReadOnly__OY5tx\",\"error\":\"Input_error__2a+t8\"};","import PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport styles from './index.module.scss';\n\nconst Input = ({\n  type, value, error, id, name, placeholder, label, readOnly, onChange, onFocus, onBlur,\n}) => (\n  <>\n    {label && (\n      <label\n        className={cn(styles.label, { [styles.labelReadOnly]: readOnly })}\n        htmlFor={name}\n      >\n        {label}\n      </label>\n    )}\n    <input\n      type={type}\n      value={value}\n      id={id}\n      name={name}\n      placeholder={placeholder}\n      className={cn(styles.input, { [styles.inputError]: error, [styles.inputReadOnly]: readOnly })}\n      readOnly={readOnly}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      onChange={onChange}\n    />\n    {error && (\n      <div className={styles.error}>{error}</div>\n    )}\n  </>\n);\n\nInput.propTypes = {\n  type: PropTypes.string,\n  value: PropTypes.string,\n  error: PropTypes.string,\n  label: PropTypes.string,\n  id: PropTypes.string,\n  name: PropTypes.string,\n  placeholder: PropTypes.string,\n  readOnly: PropTypes.bool,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n};\n\nexport default Input;\n","// extracted by mini-css-extract-plugin\nexport default {\"row\":\"ProfilePage_row__AOVs+\",\"col\":\"ProfilePage_col__A-AXo\",\"inputWrap\":\"ProfilePage_inputWrap__cOyLF\",\"divider\":\"ProfilePage_divider__TsRKk\"};","import { useContext, useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\nimport Button from '../../components/Button';\nimport Divider from '../../components/Divider';\nimport Input from '../../components/Input';\nimport Loading from '../../components/Loading';\nimport { getUserDetails, updateUserDetails } from '../../api/auth';\nimport { TitleContext } from '../../utils/contexts';\nimport styles from './index.module.scss';\nimport Card from '../../components/Card';\nimport { logout } from '../../helpers/authHelper';\n\nconst ProfilePage = () => {\n  const [loading, setLoading] = useState(true);\n  const [save, setSave] = useState(false);\n  const [formValues, setFormValues] = useState(['', '', '', '']);\n  const [formErrors, setFormErrors] = useState(['', '', '', '']);\n  const { setTitle } = useContext(TitleContext);\n\n  useEffect(() => {\n    setTitle('Профіль');\n  }, [setTitle]);\n\n  useEffect(() => {\n    const loadUserData = async () => {\n      try {\n        const res = await getUserDetails();\n        if (res.status && res.status === 200) {\n          setFormValues([res.data.email, res.data.name, '', '']);\n        }\n      } catch (error) {\n        toast.error(error.message, 3000);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadUserData();\n  }, []);\n\n  const isValid = () => {\n    const formErrorsNew = [...formErrors];\n\n    const isConfirmPassValid = formValues[2] === formValues[3];\n\n    if (!isConfirmPassValid) {\n      formErrorsNew[2] = ' ';\n      formErrorsNew[3] = 'Паролі не співпадають';\n    }\n    if (!formValues[1]) formErrorsNew[1] = 'Ім\\'я обов\\'язкове';\n\n    formErrorsNew.length && setFormErrors(formErrorsNew);\n\n    return !formErrorsNew.some((i) => i);\n  };\n\n  const changeProfile = async (e) => {\n    e.preventDefault();\n    if (isValid()) {\n      setSave(true);\n      const values = {\n        email: formValues[0],\n        name: formValues[1],\n        password: formValues[2],\n      };\n      try {\n        const res = await updateUserDetails(values);\n        if (res.status && res.status === 201) {\n          setFormValues([res.data.email, res.data.name, '', '']);\n          toast.success('Профіль успішно оновлено', 3000);\n        }\n      } catch (error) {\n        toast.error(error.message, 3000);\n      } finally {\n        setSave(false);\n      }\n    }\n  };\n\n  const onInputChange = (value, index) => {\n    const formValuesNew = formValues.map((i, ind) => (index === ind ? value.trim() : i));\n    setFormValues(formValuesNew);\n  };\n\n  const onClearError = (index) => {\n    if (!formErrors[index]) return;\n    const formErrorsNew = formErrors.map((i, ind) => (ind === index ? '' : i));\n    setFormErrors(formErrorsNew);\n  };\n\n  return (\n    <div className={styles.row}>\n      <div className={styles.col}>\n        <Card\n          titleStyle={{ marginBottom: '30px' }}\n          title=\"Оновити профіль\"\n          action={\n            <Button type=\"button\" style={{ fontWeight: '400', color: '#4169b8' }} variant=\"link\" onClick={logout}>Вийти</Button>\n          }\n        >\n          {loading ? (\n            <Loading />\n          ) : (\n            <form method=\"POST\" onSubmit={changeProfile} noValidate>\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  label=\"Введіть email\"\n                  value={formValues[0]}\n                  readOnly\n                  onChange={(e) => onInputChange(e.target.value, 0)}\n                  onFocus={() => onClearError(0)}\n                />\n              </div>\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  placeholder=\"Ім'я\"\n                  label=\"Введіть ім'я\"\n                  error={formErrors[1]}\n                  value={formValues[1]}\n                  onChange={(e) => onInputChange(e.target.value, 1)}\n                  onFocus={() => onClearError(1)}\n                />\n              </div>\n              <Divider />\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  placeholder=\"Пароль\"\n                  label=\"Введіть пароль\"\n                  error={formErrors[2]}\n                  value={formValues[2]}\n                  onChange={(e) => onInputChange(e.target.value, 2)}\n                  onFocus={() => onClearError(2)}\n                />\n              </div>\n              <div className={styles.inputWrap}>\n                <Input\n                  type=\"password\"\n                  id=\"new-password\"\n                  name=\"password\"\n                  placeholder=\"Підтведити пароль\"\n                  label=\"Підтведіть пароль\"\n                  error={formErrors[3]}\n                  value={formValues[3]}\n                  onChange={(e) => onInputChange(e.target.value, 3)}\n                  onFocus={() => onClearError(3)}\n                />\n              </div>\n              <div className={styles.inputWrap}>\n                <Button type=\"submit\" variant=\"primary\" isLoading={save}>\n                  {save ? ' Зберігання...' : 'Зберегти'}\n                </Button>\n              </div>\n            </form>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"],"names":["title","action","style","titleStyle","noMobileShadow","children","className","cn","styles","type","value","error","id","name","placeholder","label","readOnly","onChange","onFocus","onBlur","htmlFor","useState","loading","setLoading","save","setSave","formValues","setFormValues","formErrors","setFormErrors","setTitle","useContext","TitleContext","useEffect","loadUserData","getUserDetails","res","status","data","email","toast","message","isValid","formErrorsNew","length","some","i","changeProfile","e","preventDefault","values","password","updateUserDetails","onInputChange","index","formValuesNew","map","ind","trim","onClearError","Card","marginBottom","Button","fontWeight","color","variant","onClick","logout","Loading","method","onSubmit","noValidate","Input","target","Divider","isLoading"],"sourceRoot":""}